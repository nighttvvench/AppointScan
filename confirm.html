<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appointment Successful - PROJECT RNATION</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-pzjw8f+ua7Kw1TIq0M5beN9cB63xhFqBczftw5v5I3o6AnK3GFEVjm0+ZTQ2rZFE" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Custom button styles */
        .btn-home {
            background-color: #0d6efd;
            color: white;
            padding: 12px 24px;
            border-radius: 30px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            border: none;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            display: inline-block;
            text-align: center;
            text-decoration: none;
        }
        
        .btn-home:hover {
            background-color: #0b5ed7;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
            color: white;
        }
        
        .btn-home:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .success-icon {
            font-size: 4rem;
            color: #28a745;
            margin-bottom: 1rem;
        }
        
        .status-badge {
            padding: 0.25rem 0.5rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            background-color: #fef3c7;
            color: #92400e;
            display: inline-block;
        }
    </style>
</head>
<body>

<!-- Navigation Bar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
        <img src="rnlogo.png"  width="250" height="150" class="me-2">
    </div>
</nav>

<!-- Success Message Section -->
<section class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-6">
            <div class="card shadow-lg border-0">
                <div class="card-body p-5 text-center">
                    <!-- Success Icon -->
                    <div class="success-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">
                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                        </svg>
                    </div>
                    
                    <div class="alert alert-success mb-4">
                        <h3 class="card-title text-center mb-2">Appointment Scheduled Successfully!</h3>
                        <p class="text-center">Your appointment has been registered in our system.</p>
                    </div>

                    <!-- Appointment Details -->
                    <div class="mb-4 text-start">
                        <h5 class="text-center mb-3">Appointment Details</h5>
                        <p><strong>Student Number:</strong> <span id="result-student-number"></span></p>
                        <p><strong>Full Name:</strong> <span id="result-fullname"></span></p>
                        <p><strong>Email:</strong> <span id="result-email"></span></p>
                        <p><strong>Contact Number:</strong> <span id="result-contact"></span></p>
                        <p><strong>Checkup Type:</strong> <span id="result-checkup-type"></span></p>
                        <p><strong>Date:</strong> <span id="result-date"></span></p>
                        <p><strong>Time:</strong> <span id="result-time"></span></p>
                        <p><strong>Appointment ID:</strong> <span id="result-id"></span></p>
                        <p><strong>Status:</strong> <span class="status-badge">Pending</span></p>
                    </div>

                    <div class="mb-4">
                        <p>Please arrive 15 minutes before your scheduled appointment time.</p>
                        <p>Remember to bring your student ID card with you.</p>
                    </div>

                    <!-- Back to Home Button -->
                    <div class="d-grid gap-2">
                        <a href="index.html" class="btn btn-home btn-lg">
                            <i class="bi bi-house-door-fill me-2"></i> Back to Home
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Footer -->
<footer class="bg-dark text-white text-center py-3">
    <p>&copy; 2025 PROJECT RNATION | All Rights Reserved</p>
</footer>

<!-- Bootstrap JS and dependencies -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz4fnFO9gybphR9l2AS7IoJ5l+P8s0xwepRdb6l+k8nFLi4e" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-pzjw8f+ua7Kw1TIq0M5beN9cB63xhFqBczftw5v5I3o6AnK3GFEVjm0+ZTQ2rZFE" crossorigin="anonymous"></script>
<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">

<!-- JavaScript to display the saved appointment data -->
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Get the appointment data from localStorage
        const appointmentData = JSON.parse(localStorage.getItem('currentAppointment'));
        
        if (!appointmentData) {
            window.location.href = 'appointment.html';
            return;
        }
        
        // Generate a unique ID for the appointment
        const today = new Date();
        const yyyy = today.getFullYear();
        const mm = String(today.getMonth() + 1).padStart(2, '0');
        const dd = String(today.getDate()).padStart(2, '0');
        const randomNum = Math.floor(Math.random() * 999) + 1;
        const id = `APT-${yyyy}${mm}${dd}-${String(randomNum).padStart(3, '0')}`;
        
        // Fill in the appointment details
        document.getElementById('result-student-number').textContent = appointmentData.studentNumber;
        document.getElementById('result-fullname').textContent = appointmentData.fullname;
        document.getElementById('result-email').textContent = appointmentData.email;
        document.getElementById('result-contact').textContent = appointmentData.contact;
        document.getElementById('result-checkup-type').textContent = appointmentData.checkupType;
        document.getElementById('result-date').textContent = formatDate(appointmentData.date);
        document.getElementById('result-time').textContent = formatTime(appointmentData.time);
        document.getElementById('result-id').textContent = id;
        
        // Save appointment to localStorage with appointments array
        const storedAppointments = JSON.parse(localStorage.getItem('appointments')) || [];
        
        const completeAppointment = {
            ...appointmentData,
            id,
            status: 'pending'
        };
        
        storedAppointments.push(completeAppointment);
        localStorage.setItem('appointments', JSON.stringify(storedAppointments));
    });
    
    // Helper function to format date
    function formatDate(dateString) {
        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        return new Date(dateString).toLocaleDateString(undefined, options);
    }
    
    // Helper function to format time
    function formatTime(timeString) {
        const [hour, minute] = timeString.split(':');
        return `${hour % 12 || 12}:${minute} ${hour < 12 ? 'AM' : 'PM'}`;
    }
</script>

</body>
</html>
